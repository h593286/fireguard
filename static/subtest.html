<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>MQTT Subscriber</title>
</head>
<body>
    TTF for Bergen:
    <!-- This subscriber sections -->
    <!-- OBS! OBS! Remember to replace the topic with city/Bergen, after complete implementation-->
    <input type="text" id="messageBox" readonly>

    <script src="https://unpkg.com/mqtt/dist/mqtt.min.js"></script>
    <script>
        const client = mqtt.connect('wss://c406645d204a4c93919e442f4c8bcc09.s1.eu.hivemq.cloud:8884/mqtt', {
            username: 'ildvakt',
            password: 'Ildvakt123'
        });

        client.on('connect', function () {
            console.log('Connected');
            client.subscribe('city/Bergen', function (err) {
                if (!err) {
                    console.log("Subscribed to city/Bergen");
                } else {
                    console.error('Subscription error:', err);
                }
            });
        });

        client.on('message', function (topic, message) {
            // Display the message in the textbox
            document.getElementById('messageBox').value = message.toString();
        });
    </script>
</body>
</html>
